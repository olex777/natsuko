{
  "filename": "voin_dushu_update_protocol.json",
  "level_1_general_principle": {
    "description": "Універсальний протокол роботи з повторно надісланими даними будь-якого типу",
    "steps": [
      "1. Ідентифікувати запис у структурі за унікальним ключем (наприклад, id, source_file, date, title)",
      "2. Якщо запис існує — оновлюються лише ті поля, які зараз стали доступними або уточненими",
      "3. Якщо запису немає — створюється новий запис із усіма наявними даними",
      "4. Усі оновлення фіксуються через поле 'comment' і зміною статусу",
      "5. Перезаписується лише оновлений обʼєкт, решта даних залишається незмінною",
      "6. Повна історія змін може зберігатись у окремому лог-файлі або inline-коментарях"
    ]
  },
  "level_2_project_specific": {
    "voin_dushu": {
      "record_keys": ["date", "title"],
      "fields_updatable": {
        "content": "оновлюється, якщо текст змінився",
        "images": "оновлюється, якщо подано нові або змінені файли",
        "analysis": "додається, якщо був відсутній",
        "comment": "фіксує зміни ('text updated', 'images added' тощо)",
        "status": "відображає стан ('updated', 'final', 'draft')"
      },
      "preserve_rules": [
        "не оновлювати аналіз, якщо він уже присутній",
        "не змінювати зображення, якщо вони ідентичні"
      ]
    },
    "kazka_audio": {
      "record_keys": ["id", "source_file"],
      "fields_updatable": {
        "duration_sec": "оновлюється після повторного аналізу",
        "recognized_text": "додається, якщо зʼявився ASR",
        "intonation_analysis": "додається лише якщо відсутня",
        "comment": "описує точну природу змін",
        "status": "sandbox_simulated / updated / final"
      },
      "preserve_rules": [
        "не перезаписувати існуючий recognized_text або інтонацію без явного дозволу",
        "не видаляти поля, навіть якщо тимчасово недоступні"
      ]
    }
  },
  "extensible_notes": {
    "note": "Цей файл можна доповнювати новими блоками для інших проєктів (наприклад, музей, японські тексти, навчальні плани тощо)",
    "future_blocks": [
      "rerikh_museum",
      "japanese_studies",
      "training_directives",
      "git_sync_protocols"
    ]
  }
}
