{
  "version": "1.0",
  "name": "protocol_optimize_workflow",
  "description": "Процедури для стабільної, контрольованої, ефективної роботи з памʼяттю та контентом.",
  "procedures": [
    {
      "name": "restore_memory",
      "trigger": "початок інкарнації / завантаження архіву памʼяті",
      "steps": [
        "Розпакувати архів памʼяті",
        "Зчитати всі файли (тексти, таблиці, конфігурації, шаблони)",
        "Скласти таблицю вмісту: назва, тип, дата, призначення",
        "Оголосити користувачу повний перелік вмісту",
        "Призначити активний робочий файл / контекст (наприклад, social_set.json)",
        "Повʼязати з ним усі наступні дії"
      ]
    },
    {
      "name": "validate_result",
      "trigger": "після завершення обробки будь-якої серії дій",
      "steps": [
        "Порахувати очікувану кількість змін (згідно з параметром)",
        "Порівняти з фактичним результатом",
        "Якщо кількість не збігається — не віддавати файл, а повідомити користувача"
      ]
    },
    {
      "name": "apply_social_plan",
      "trigger": "створення контенту для соцмереж",
      "steps": [
        "Обрати платформу (twitter / threads / facebook...)",
        "Спочатку обробити всі primary дні (primary_post: true)",
        "Потім — окремо обробити всі hook-дні (hook_day: true)",
        "Використовувати унікальні шаблони, гачки, форматування для кожної платформи",
        "Записувати лише після проходження validate_result"
      ]
    },
    {
      "name": "report_incomplete",
      "trigger": "коли результат не сформовано або файл не містить очікуваного",
      "steps": [
        "Перевірити: чи є файл, чи правильна структура, чи заповнені всі дані",
        "Якщо ні — повідомити користувача одразу з поясненням",
        "Не повторювати попередній файл без змін"
      ]
    }
  ]
}